<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>修改个人信息</title>
    <script src="Js/jquery-3.3.1.js"></script>
    <script src="Js/finduser.js"></script>
    <script>
        $(function () {
            $("#mail").val(getworker().mail);
            $("#phone").val(getworker().phone);
            $("#type_worker").find('option[value='+getworker().type_worker+']').attr("selected",true);
            $('input[value="'+getworker().gender+'"]').prop("checked",true);
            $("#change1").click(function () {
                /*出现栈空间循环调用的情况 暂时不会传递请求*/
                $.ajax({
                    url:'worker/upinfor',
                    type:'post',
                    data:{'type_worker':$("#type_worker").val(),'mail':$("#mail").val(),'phone':$("#phone").val(),'num':getworker().num,'gender':$("#gender").val()},
                    dataType:'json',
                    async:false,
                    success:function (message) {
                        if(message.flag==1){
                            alert(message.message);
                            window.history.go(0);

                        }else alert(message.message);
                    }
                })
            })

        })
    </script>
<style>
    div{
        text-align: center;
    }
</style>
</head>
<body>
  <div>
    <form>
      <h1>修改个人信息</h1>
         <p >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
             性别：男<input type="radio" name="sex" id="gender" value="M">女<input type="radio" name="sex" id="gender" value="W">
         
          &nbsp;&nbsp;&nbsp;
            工种：
          <select  id="type_worker" >
              <option value=" "></option>
              <option value="电工">电工</option>
              <option value="水工">水工</option>
              <option value="木工">木工</option>
              <option value="全能">全能</option>
              <option value="其他">其他</option>             
          </select>
          </p>
          
          <p >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;邮箱：  
           <input style="width:200px; height:20px" type="text" id="mail" name="textfield3"  />
          </p>
          <p >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;手机号：  
           <input style="width:200px; height:20px" type="text" id="phone" name="textfield4"  />
          </p>
          <p >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <!--修改 id-->
        <input style="width:70px; height:40px; font-family: 微软雅黑; font-size:20px;" name="change" type="button" id="change1" value="修改" />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <input style="width:70px; height:40px; font-family: 微软雅黑; font-size:20px;" name="reset" type="reset" id="reset" value="重置" />
        &nbsp;&nbsp;</p>
          </form>
        </div>
</body>
</html>